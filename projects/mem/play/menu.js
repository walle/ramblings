(function(exports,global){function Preferences(){this.playerName=localStorage["mem.player.name"],this.selectedLanguage=localStorage["mem.selected.language"]||"en"}function t(key){return translations[preferences.selectedLanguage][key]?translations[preferences.selectedLanguage][key]:"Translation missing for {"+key+"}"}function setHight(){document.getElementById("game").style.height=window.innerHeight+"px"}function Menu(){this.playButton=document.getElementById("play-button"),this.optionsButton=document.getElementById("options-button"),this.playButton.innerHTML=t("play"),this.optionsButton.innerHTML=t("options"),this.playButton.touchstart?this.playButton.addEventListener("touchstart",this.playButtonClick):this.playButton.addEventListener("click",this.playButtonClick)}global["true"]=exports,Preferences.prototype.save=function(){localStorage["mem.player.name"]=this.playerName,localStorage["mem.selected.language"]=this.selectedLanguage};var preferences=new Preferences,translations={en:{play:"Play",options:"Options",language:"Language",save:"Save",your_name:"Your name",you_win:"You win",restart:"Restart",quit:"Quit",clicks:"Clicks",pairs:"Pairs",time:"Time",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes",second:"second",seconds:"seconds"},sv:{play:"Spela",options:"Alternativ",language:"Spr√•k",save:"Spara",your_name:"Ditt namn",you_win:"Du vinner",restart:"Starta om",quit:"Avsluta",clicks:"Klick",pairs:"Par",time:"Tid",hour:"timma",hours:"timmar",minute:"minut",minutes:"minuter",second:"sekund",seconds:"sekunder"}};document.addEventListener("touchmove",function(event){event.preventDefault()}),setHight(),window.onresize=setHight,Menu.prototype.playButtonClick=function(event){if(!preferences.playerName){event.preventDefault();var game=document.getElementById("game");game.innerHTML='<div id="player-name-prompt"><input type="text" value="'+t("your_name")+'"/><input type="submit" value="'+t("play")+'" /></div>'+game.innerHTML;var prompt=document.getElementById("player-name-prompt");prompt.classList.toggle("show");var input=document.getElementsByTagName("input")[0];input.addEventListener("focus",function(){this.value=""});var submit=document.getElementsByTagName("input")[1];submit.touchstart?submit.addEventListener("touchstart",menu.storePlayerNameAndPlay):submit.addEventListener("click",menu.storePlayerNameAndPlay)}},Menu.prototype.storePlayerNameAndPlay=function(){var input=document.getElementsByTagName("input")[0];preferences.playerName=input.value,preferences.save(),window.location="play.html"};var menu=new Menu})({},function(){return this}());